import{D as w,E as V,G as $t,H as J,I as He,J as At,r as B,K as ve,L as tt,d as ne,M as de,N as Pt,O as L,B as se,P as _t,Q as nt,R as Ft,S as Se,o as me,U as Ie,V as Bt,W as Lt,X as zt,Y as Ee,Z as ze,F as Oe,$ as Ne,a0 as we,a1 as Nt,a2 as st,a3 as Dt,a4 as jt,a5 as We,a6 as Z,a7 as it,a8 as qe,a as Vt,a9 as Kt,aa as G,l as De,ab as Te,ac as ot,ad as at,ae as je,af as Ve,ag as ee,b as F,c as U,n as P,t as ie,f as H,e as W,ah as Me,ai as j,w as q,aj as le,ak as re,al as Ut,j as Ht,am as lt,an as ke,ao as rt,ap as Ke,aq as ge,ar as ut,as as ct,at as Wt,au as qt,g as pe,av as Gt,aw as Yt,ax as Jt,ay as Qt,az as Xt,aA as Zt,aB as en,aC as tn,aD as dt,aE as nn,y as sn,u as on,aF as an,aG as ln,aH as rn,aI as un,aJ as cn,aK as dn}from"./entry.Ba090DH8.js";const hn={wrapper:"flex flex-col flex-1 min-h-0 divide-y divide-gray-100 dark:divide-gray-800",container:"relative flex-1 overflow-y-auto divide-y divide-gray-100 dark:divide-gray-800 scroll-py-2",input:{wrapper:"relative flex items-center",base:"w-full placeholder-gray-400 dark:placeholder-gray-500 bg-transparent border-0 text-gray-900 dark:text-white focus:ring-0 focus:outline-none",padding:"px-4",height:"h-12",size:"sm:text-sm",icon:{base:"pointer-events-none absolute start-4 text-gray-400 dark:text-gray-500",loading:"animate-spin",size:"h-5 w-5",padding:"ps-11"},closeButton:{base:"absolute end-4",padding:"pe-10"}},emptyState:{wrapper:"flex flex-col items-center justify-center flex-1 px-6 py-14 sm:px-14",label:"text-sm text-center text-gray-900 dark:text-white",queryLabel:"text-sm text-center text-gray-900 dark:text-white",icon:"w-6 h-6 mx-auto text-gray-400 dark:text-gray-500 mb-4"},group:{wrapper:"p-2",label:"px-2.5 my-2 text-xs font-semibold text-gray-900 dark:text-white",container:"text-sm text-gray-700 dark:text-gray-200",command:{base:"flex justify-between select-none items-center rounded-md px-2.5 py-1.5 gap-2 relative",active:"bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-white",inactive:"",label:"flex items-center gap-1.5 min-w-0",prefix:"text-gray-400 dark:text-gray-500",suffix:"text-gray-400 dark:text-gray-500",container:"flex items-center gap-1.5 min-w-0",icon:{base:"flex-shrink-0 w-5 h-5",active:"text-gray-900 dark:text-white",inactive:"text-gray-400 dark:text-gray-500"},selectedIcon:{base:"h-5 w-5 text-gray-900 dark:text-white flex-shrink-0"},avatar:{base:"flex-shrink-0",size:"2xs"},chip:{base:"flex-shrink-0 w-2 h-2 mx-1 rounded-full"},disabled:"opacity-50",shortcuts:"hidden md:inline-flex flex-shrink-0 gap-0.5"},active:"flex-shrink-0 text-gray-500 dark:text-gray-400",inactive:"flex-shrink-0 text-gray-500 dark:text-gray-400"},default:{icon:"i-heroicons-magnifying-glass-20-solid",loadingIcon:"i-heroicons-arrow-path-20-solid",emptyState:{icon:"i-heroicons-magnifying-glass-20-solid",label:"We couldn't find any items.",queryLabel:"We couldn't find any items with that term. Please try again."},closeButton:null,selectedIcon:"i-heroicons-check-20-solid"}},fn={wrapper:"relative z-50",inner:"fixed inset-0 overflow-y-auto",container:"flex min-h-full items-end sm:items-center justify-center text-center",padding:"p-4 sm:p-0",margin:"sm:my-8",base:"relative text-left rtl:text-right overflow-hidden flex flex-col",overlay:{base:"fixed inset-0 transition-opacity",background:"bg-gray-200/75 dark:bg-gray-800/75",transition:{enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0"}},background:"bg-white dark:bg-gray-900",ring:"",rounded:"rounded-lg",shadow:"shadow-xl",width:"w-full sm:max-w-lg",height:"",fullscreen:"w-screen h-screen",transition:{enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"}};function ue(e,s,t){let i=t.initialDeps??[],n;return()=>{var a,l,o,c;let d;t.key&&((a=t.debug)!=null&&a.call(t))&&(d=Date.now());const r=e();if(!(r.length!==i.length||r.some((b,O)=>i[O]!==b)))return n;i=r;let v;if(t.key&&((l=t.debug)!=null&&l.call(t))&&(v=Date.now()),n=s(...r),t.key&&((o=t.debug)!=null&&o.call(t))){const b=Math.round((Date.now()-d)*100)/100,O=Math.round((Date.now()-v)*100)/100,k=O/16,A=(I,E)=>{for(I=String(I);I.length<E;)I=" "+I;return I};console.info(`%câ± ${A(O,5)} /${A(b,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*k,120))}deg 100% 31%);`,t==null?void 0:t.key)}return(c=t==null?void 0:t.onChange)==null||c.call(t,n),n}}function Re(e,s){if(e===void 0)throw new Error(`Unexpected undefined${s?`: ${s}`:""}`);return e}const pn=(e,s)=>Math.abs(e-s)<1,vn=e=>e,mn=e=>{const s=Math.max(e.startIndex-e.overscan,0),t=Math.min(e.endIndex+e.overscan,e.count-1),i=[];for(let n=s;n<=t;n++)i.push(n);return i},gn=(e,s)=>{const t=e.scrollElement;if(!t)return;const i=a=>{const{width:l,height:o}=a;s({width:Math.round(l),height:Math.round(o)})};if(i(t.getBoundingClientRect()),typeof ResizeObserver>"u")return()=>{};const n=new ResizeObserver(a=>{const l=a[0];if(l!=null&&l.borderBoxSize){const o=l.borderBoxSize[0];if(o){i({width:o.inlineSize,height:o.blockSize});return}}i(t.getBoundingClientRect())});return n.observe(t,{box:"border-box"}),()=>{n.unobserve(t)}},bn=(e,s)=>{const t=e.scrollElement;if(!t)return;const i=()=>{s(t[e.options.horizontal?"scrollLeft":"scrollTop"])};return i(),t.addEventListener("scroll",i,{passive:!0}),()=>{t.removeEventListener("scroll",i)}},yn=(e,s,t)=>{if(s!=null&&s.borderBoxSize){const i=s.borderBoxSize[0];if(i)return Math.round(i[t.options.horizontal?"inlineSize":"blockSize"])}return Math.round(e.getBoundingClientRect()[t.options.horizontal?"width":"height"])},xn=(e,{adjustments:s=0,behavior:t},i)=>{var n,a;const l=e+s;(a=(n=i.scrollElement)==null?void 0:n.scrollTo)==null||a.call(n,{[i.options.horizontal?"left":"top"]:l,behavior:t})};class Sn{constructor(s){this.unsubs=[],this.scrollElement=null,this.isScrolling=!1,this.isScrollingTimeoutId=null,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollDirection=null,this.scrollAdjustments=0,this.measureElementCache=new Map,this.observer=(()=>{let t=null;const i=()=>t||(typeof ResizeObserver<"u"?t=new ResizeObserver(n=>{n.forEach(a=>{this._measureElement(a.target,a)})}):null);return{disconnect:()=>{var n;return(n=i())==null?void 0:n.disconnect()},observe:n=>{var a;return(a=i())==null?void 0:a.observe(n,{box:"border-box"})},unobserve:n=>{var a;return(a=i())==null?void 0:a.unobserve(n)}}})(),this.range=null,this.setOptions=t=>{Object.entries(t).forEach(([i,n])=>{typeof n>"u"&&delete t[i]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:vn,rangeExtractor:mn,onChange:()=>{},measureElement:yn,initialRect:{width:0,height:0},scrollMargin:0,scrollingDelay:150,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,...t}},this.notify=t=>{var i,n;(n=(i=this.options).onChange)==null||n.call(i,this,t)},this.maybeNotify=ue(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),t=>{this.notify(t)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(t=>t()),this.unsubs=[],this.scrollElement=null},this._didMount=()=>(this.measureElementCache.forEach(this.observer.observe),()=>{this.observer.disconnect(),this.cleanup()}),this._willUpdate=()=>{const t=this.options.getScrollElement();this.scrollElement!==t&&(this.cleanup(),this.scrollElement=t,this._scrollToOffset(this.scrollOffset,{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,i=>{this.scrollRect=i,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,i=>{this.scrollAdjustments=0,this.scrollOffset!==i&&(this.isScrollingTimeoutId!==null&&(clearTimeout(this.isScrollingTimeoutId),this.isScrollingTimeoutId=null),this.isScrolling=!0,this.scrollDirection=this.scrollOffset<i?"forward":"backward",this.scrollOffset=i,this.maybeNotify(),this.isScrollingTimeoutId=setTimeout(()=>{this.isScrollingTimeoutId=null,this.isScrolling=!1,this.scrollDirection=null,this.maybeNotify()},this.options.scrollingDelay))})))},this.getSize=()=>this.scrollRect[this.options.horizontal?"width":"height"],this.memoOptions=ue(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey],(t,i,n,a)=>(this.pendingMeasuredCacheIndexes=[],{count:t,paddingStart:i,scrollMargin:n,getItemKey:a}),{key:!1}),this.getFurthestMeasurement=(t,i)=>{const n=new Map,a=new Map;for(let l=i-1;l>=0;l--){const o=t[l];if(n.has(o.lane))continue;const c=a.get(o.lane);if(c==null||o.end>c.end?a.set(o.lane,o):o.end<c.end&&n.set(o.lane,!0),n.size===this.options.lanes)break}return a.size===this.options.lanes?Array.from(a.values()).sort((l,o)=>l.end===o.end?l.index-o.index:l.end-o.end)[0]:void 0},this.getMeasurements=ue(()=>[this.memoOptions(),this.itemSizeCache],({count:t,paddingStart:i,scrollMargin:n,getItemKey:a},l)=>{const o=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const c=this.measurementsCache.slice(0,o);for(let d=o;d<t;d++){const r=a(d),h=this.options.lanes===1?c[d-1]:this.getFurthestMeasurement(c,d),v=h?h.end:i+n,b=l.get(r),O=typeof b=="number"?b:this.options.estimateSize(d),k=v+O,A=h?h.lane:d%this.options.lanes;c[d]={index:d,start:v,size:O,end:k,key:r,lane:A}}return this.measurementsCache=c,c},{key:!1,debug:()=>this.options.debug}),this.calculateRange=ue(()=>[this.getMeasurements(),this.getSize(),this.scrollOffset],(t,i,n)=>this.range=t.length>0&&i>0?In({measurements:t,outerSize:i,scrollOffset:n}):null,{key:!1,debug:()=>this.options.debug}),this.getIndexes=ue(()=>[this.options.rangeExtractor,this.calculateRange(),this.options.overscan,this.options.count],(t,i,n,a)=>i===null?[]:t({...i,overscan:n,count:a}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=t=>{const i=this.options.indexAttribute,n=t.getAttribute(i);return n?parseInt(n,10):(console.warn(`Missing attribute name '${i}={index}' on measured element.`),-1)},this._measureElement=(t,i)=>{const n=this.measurementsCache[this.indexFromElement(t)];if(!n||!t.isConnected){this.measureElementCache.forEach((o,c)=>{o===t&&(this.observer.unobserve(t),this.measureElementCache.delete(c))});return}const a=this.measureElementCache.get(n.key);a!==t&&(a&&this.observer.unobserve(a),this.observer.observe(t),this.measureElementCache.set(n.key,t));const l=this.options.measureElement(t,i,this);this.resizeItem(n,l)},this.resizeItem=(t,i)=>{const n=this.itemSizeCache.get(t.key)??t.size,a=i-n;a!==0&&(t.start<this.scrollOffset+this.scrollAdjustments&&this._scrollToOffset(this.scrollOffset,{adjustments:this.scrollAdjustments+=a,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(t.index),this.itemSizeCache=new Map(this.itemSizeCache.set(t.key,i)),this.notify(!1))},this.measureElement=t=>{t&&this._measureElement(t,void 0)},this.getVirtualItems=ue(()=>[this.getIndexes(),this.getMeasurements()],(t,i)=>{const n=[];for(let a=0,l=t.length;a<l;a++){const o=t[a],c=i[o];n.push(c)}return n},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=t=>{const i=this.getMeasurements();return Re(i[ht(0,i.length-1,n=>Re(i[n]).start,t)])},this.getOffsetForAlignment=(t,i)=>{const n=this.getSize();i==="auto"&&(t<=this.scrollOffset?i="start":t>=this.scrollOffset+n?i="end":i="start"),i==="start"?t=t:i==="end"?t=t-n:i==="center"&&(t=t-n/2);const a=this.options.horizontal?"scrollWidth":"scrollHeight",o=(this.scrollElement?"document"in this.scrollElement?this.scrollElement.document.documentElement[a]:this.scrollElement[a]:0)-this.getSize();return Math.max(Math.min(o,t),0)},this.getOffsetForIndex=(t,i="auto")=>{t=Math.max(0,Math.min(t,this.options.count-1));const n=Re(this.getMeasurements()[t]);if(i==="auto")if(n.end>=this.scrollOffset+this.getSize()-this.options.scrollPaddingEnd)i="end";else if(n.start<=this.scrollOffset+this.options.scrollPaddingStart)i="start";else return[this.scrollOffset,i];const a=i==="end"?n.end+this.options.scrollPaddingEnd:n.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(a,i),i]},this.isDynamicMode=()=>this.measureElementCache.size>0,this.cancelScrollToIndex=()=>{this.scrollToIndexTimeoutId!==null&&(clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(t,{align:i="start",behavior:n}={})=>{this.cancelScrollToIndex(),n==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(t,i),{adjustments:void 0,behavior:n})},this.scrollToIndex=(t,{align:i="auto",behavior:n}={})=>{t=Math.max(0,Math.min(t,this.options.count-1)),this.cancelScrollToIndex(),n==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const[a,l]=this.getOffsetForIndex(t,i);this._scrollToOffset(a,{adjustments:void 0,behavior:n}),n!=="smooth"&&this.isDynamicMode()&&(this.scrollToIndexTimeoutId=setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.measureElementCache.has(this.options.getItemKey(t))){const[c]=this.getOffsetForIndex(t,l);pn(c,this.scrollOffset)||this.scrollToIndex(t,{align:l,behavior:n})}else this.scrollToIndex(t,{align:l,behavior:n})}))},this.scrollBy=(t,{behavior:i}={})=>{this.cancelScrollToIndex(),i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.scrollOffset+t,{adjustments:void 0,behavior:i})},this.getTotalSize=()=>{var t;const i=this.getMeasurements();let n;return i.length===0?n=this.options.paddingStart:n=this.options.lanes===1?((t=i[i.length-1])==null?void 0:t.end)??0:Math.max(...i.slice(-this.options.lanes).map(a=>a.end)),n-this.options.scrollMargin+this.options.paddingEnd},this._scrollToOffset=(t,{adjustments:i,behavior:n})=>{this.options.scrollToFn(t,{behavior:n,adjustments:i},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(s),this.scrollRect=this.options.initialRect,this.scrollOffset=this.options.initialOffset,this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(t=>{this.itemSizeCache.set(t.key,t.size)}),this.maybeNotify()}}const ht=(e,s,t,i)=>{for(;e<=s;){const n=(e+s)/2|0,a=t(n);if(a<i)e=n+1;else if(a>i)s=n-1;else return n}return e>0?e-1:0};function In({measurements:e,outerSize:s,scrollOffset:t}){const i=e.length-1,a=ht(0,i,o=>e[o].start,t);let l=a;for(;l<i&&e[l].end<t+s;)l++;return{startIndex:a,endIndex:l}}function On(e){const s=new Sn(V(e)),t=$t(s),i=s._didMount();return J(()=>V(e).getScrollElement(),n=>{n&&s._willUpdate()},{immediate:!0}),J(()=>V(e),n=>{s.setOptions({...n,onChange:(a,l)=>{var o;He(t),(o=n.onChange)==null||o.call(n,a,l)}}),s._willUpdate(),He(t)},{immediate:!0}),At(i),t}function wn(e){return On(w(()=>({observeElementRect:gn,observeElementOffset:bn,scrollToFn:xn,...V(e)})))}function Mn(e,s,t){let i=B(t==null?void 0:t.value),n=w(()=>e.value!==void 0);return[w(()=>n.value?e.value:i.value),function(a){return n.value||(i.value=a),s==null?void 0:s(a)}]}function Ge(e){return[e.screenX,e.screenY]}function kn(){let e=B([-1,-1]);return{wasMoved(s){let t=Ge(s);return e.value[0]===t[0]&&e.value[1]===t[1]?!1:(e.value=t,!0)},update(s){e.value=Ge(s)}}}function Cn({container:e,accept:s,walk:t,enabled:i}){ve(()=>{let n=e.value;if(!n||i!==void 0&&!i.value)return;let a=tt(e);if(!a)return;let l=Object.assign(c=>s(c),{acceptNode:s}),o=a.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,l,!1);for(;o.nextNode();)t(o.currentNode)})}function En(e){throw new Error("Unexpected object: "+e)}var D=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(D||{});function Ye(e,s){let t=s.resolveItems();if(t.length<=0)return null;let i=s.resolveActiveIndex(),n=i??-1;switch(e.focus){case 0:{for(let a=0;a<t.length;++a)if(!s.resolveDisabled(t[a],a,t))return a;return i}case 1:{n===-1&&(n=t.length);for(let a=n-1;a>=0;--a)if(!s.resolveDisabled(t[a],a,t))return a;return i}case 2:{for(let a=n+1;a<t.length;++a)if(!s.resolveDisabled(t[a],a,t))return a;return i}case 3:{for(let a=t.length-1;a>=0;--a)if(!s.resolveDisabled(t[a],a,t))return a;return i}case 4:{for(let a=0;a<t.length;++a)if(s.resolveId(t[a],a,t)===e.id)return a;return i}case 5:return null;default:En(e)}}function ft(e={},s=null,t=[]){for(let[i,n]of Object.entries(e))vt(t,pt(s,i),n);return t}function pt(e,s){return e?e+"["+s+"]":s}function vt(e,s,t){if(Array.isArray(t))for(let[i,n]of t.entries())vt(e,pt(s,i.toString()),n);else t instanceof Date?e.push([s,t.toISOString()]):typeof t=="boolean"?e.push([s,t?"1":"0"]):typeof t=="string"?e.push([s,t]):typeof t=="number"?e.push([s,`${t}`]):t==null?e.push([s,""]):ft(t,s,e)}var Tn={};function Rn(e,s){return e===s}var $n=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))($n||{}),An=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(An||{}),Pn=(e=>(e[e.Pointer=0]="Pointer",e[e.Focus=1]="Focus",e[e.Other=2]="Other",e))(Pn||{});let mt=Symbol("ComboboxContext");function be(e){let s=st(mt,null);if(s===null){let t=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,be),t}return s}let gt=Symbol("VirtualContext"),_n=ne({name:"VirtualProvider",setup(e,{slots:s}){let t=be("VirtualProvider"),i=w(()=>{let o=L(t.optionsRef);if(!o)return{start:0,end:0};let c=window.getComputedStyle(o);return{start:parseFloat(c.paddingBlockStart||c.paddingTop),end:parseFloat(c.paddingBlockEnd||c.paddingBottom)}}),n=wn(w(()=>({scrollPaddingStart:i.value.start,scrollPaddingEnd:i.value.end,count:t.virtual.value.options.length,estimateSize(){return 40},getScrollElement(){return L(t.optionsRef)},overscan:12}))),a=w(()=>{var o;return(o=t.virtual.value)==null?void 0:o.options}),l=B(0);return J([a],()=>{l.value+=1}),nt(gt,t.virtual.value?n:null),()=>[Ie("div",{style:{position:"relative",width:"100%",height:`${n.value.getTotalSize()}px`},ref:o=>{if(o){if(typeof process<"u"&&Tn.JEST_WORKER_ID!==void 0||t.activationTrigger.value===0)return;t.activeOptionIndex.value!==null&&t.virtual.value.options.length>t.activeOptionIndex.value&&n.value.scrollToIndex(t.activeOptionIndex.value)}}},n.value.getVirtualItems().map(o=>Dt(s.default({option:t.virtual.value.options[o.index],open:t.comboboxState.value===0})[0],{key:`${l.value}-${o.index}`,"data-index":o.index,"aria-setsize":t.virtual.value.options.length,"aria-posinset":o.index+1,style:{position:"absolute",top:0,left:0,transform:`translateY(${o.start}px)`,overflowAnchor:"none"}})))]}}),Fn=ne({name:"Combobox",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],nullable:!0,default:null},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},nullable:{type:Boolean,default:!1},multiple:{type:[Boolean],default:!1},immediate:{type:[Boolean],default:!1},virtual:{type:Object,default:null}},inheritAttrs:!1,setup(e,{slots:s,attrs:t,emit:i}){let n=B(1),a=B(null),l=B(null),o=B(null),c=B(null),d=B({static:!1,hold:!1}),r=B([]),h=B(null),v=B(2),b=B(!1);function O(u=f=>f){let f=h.value!==null?r.value[h.value]:null,m=u(r.value.slice()),g=m.length>0&&m[0].dataRef.order.value!==null?m.sort((R,z)=>R.dataRef.order.value-z.dataRef.order.value):jt(m,R=>L(R.dataRef.domRef)),x=f?g.indexOf(f):null;return x===-1&&(x=null),{options:g,activeOptionIndex:x}}let k=w(()=>e.multiple?1:0),A=w(()=>e.nullable),[I,E]=Mn(w(()=>e.modelValue),u=>i("update:modelValue",u),w(()=>e.defaultValue)),_=w(()=>I.value===void 0?de(k.value,{1:[],0:void 0}):I.value),y=null,$=null;function T(u){return de(k.value,{0(){return E==null?void 0:E(u)},1:()=>{let f=se(p.value.value).slice(),m=se(u),g=f.findIndex(x=>p.compare(m,se(x)));return g===-1?f.push(m):f.splice(g,1),E==null?void 0:E(f)}})}let S=w(()=>{});J([S],([u],[f])=>{if(p.virtual.value&&u&&f&&h.value!==null){let m=u.indexOf(f[h.value]);m!==-1?h.value=m:h.value=null}});let p={comboboxState:n,value:_,mode:k,compare(u,f){if(typeof e.by=="string"){let m=e.by;return(u==null?void 0:u[m])===(f==null?void 0:f[m])}return e.by===null?Rn(u,f):e.by(u,f)},calculateIndex(u){return p.virtual.value?e.by===null?p.virtual.value.options.indexOf(u):p.virtual.value.options.findIndex(f=>p.compare(f,u)):r.value.findIndex(f=>p.compare(f.dataRef.value,u))},defaultValue:w(()=>e.defaultValue),nullable:A,immediate:w(()=>!1),virtual:w(()=>null),inputRef:l,labelRef:a,buttonRef:o,optionsRef:c,disabled:w(()=>e.disabled),options:r,change(u){E(u)},activeOptionIndex:w(()=>{if(b.value&&h.value===null&&(p.virtual.value?p.virtual.value.options.length>0:r.value.length>0)){if(p.virtual.value){let f=p.virtual.value.options.findIndex(m=>{var g;return!((g=p.virtual.value)!=null&&g.disabled(m))});if(f!==-1)return f}let u=r.value.findIndex(f=>!f.dataRef.disabled);if(u!==-1)return u}return h.value}),activationTrigger:v,optionsPropsRef:d,closeCombobox(){b.value=!1,!e.disabled&&n.value!==1&&(n.value=1,h.value=null)},openCombobox(){if(b.value=!0,!e.disabled&&n.value!==0){if(p.value.value){let u=p.calculateIndex(p.value.value);u!==-1&&(h.value=u)}n.value=0}},setActivationTrigger(u){v.value=u},goToOption(u,f,m){b.value=!1,y!==null&&cancelAnimationFrame(y),y=requestAnimationFrame(()=>{if(e.disabled||c.value&&!d.value.static&&n.value===1)return;if(p.virtual.value){h.value=u===D.Specific?f:Ye({focus:u},{resolveItems:()=>p.virtual.value.options,resolveActiveIndex:()=>{var R,z;return(z=(R=p.activeOptionIndex.value)!=null?R:p.virtual.value.options.findIndex(Q=>{var N;return!((N=p.virtual.value)!=null&&N.disabled(Q))}))!=null?z:null},resolveDisabled:R=>p.virtual.value.disabled(R),resolveId(){throw new Error("Function not implemented.")}}),v.value=m??2;return}let g=O();if(g.activeOptionIndex===null){let R=g.options.findIndex(z=>!z.dataRef.disabled);R!==-1&&(g.activeOptionIndex=R)}let x=u===D.Specific?f:Ye({focus:u},{resolveItems:()=>g.options,resolveActiveIndex:()=>g.activeOptionIndex,resolveId:R=>R.id,resolveDisabled:R=>R.dataRef.disabled});h.value=x,v.value=m??2,r.value=g.options})},selectOption(u){let f=r.value.find(g=>g.id===u);if(!f)return;let{dataRef:m}=f;T(m.value)},selectActiveOption(){if(p.activeOptionIndex.value!==null){if(p.virtual.value)T(p.virtual.value.options[p.activeOptionIndex.value]);else{let{dataRef:u}=r.value[p.activeOptionIndex.value];T(u.value)}p.goToOption(D.Specific,p.activeOptionIndex.value)}},registerOption(u,f){let m=Pt({id:u,dataRef:f});if(p.virtual.value){r.value.push(m);return}$&&cancelAnimationFrame($);let g=O(x=>(x.push(m),x));h.value===null&&p.isSelected(f.value.value)&&(g.activeOptionIndex=g.options.indexOf(m)),r.value=g.options,h.value=g.activeOptionIndex,v.value=2,g.options.some(x=>!L(x.dataRef.domRef))&&($=requestAnimationFrame(()=>{let x=O();r.value=x.options,h.value=x.activeOptionIndex}))},unregisterOption(u,f){if(y!==null&&cancelAnimationFrame(y),f&&(b.value=!0),p.virtual.value){r.value=r.value.filter(g=>g.id!==u);return}let m=O(g=>{let x=g.findIndex(R=>R.id===u);return x!==-1&&g.splice(x,1),g});r.value=m.options,h.value=m.activeOptionIndex,v.value=2},isSelected(u){return de(k.value,{0:()=>p.compare(se(p.value.value),se(u)),1:()=>se(p.value.value).some(f=>p.compare(se(f),se(u)))})},isActive(u){return h.value===p.calculateIndex(u)}};_t([l,o,c],()=>p.closeCombobox(),w(()=>n.value===0)),nt(mt,p),Ft(w(()=>de(n.value,{0:Se.Open,1:Se.Closed})));let C=w(()=>{var u;return(u=L(l))==null?void 0:u.closest("form")});return me(()=>{J([C],()=>{if(!C.value||e.defaultValue===void 0)return;function u(){p.change(e.defaultValue)}return C.value.addEventListener("reset",u),()=>{var f;(f=C.value)==null||f.removeEventListener("reset",u)}},{immediate:!0})}),()=>{var u,f,m;let{name:g,disabled:x,form:R,...z}=e,Q={open:n.value===0,disabled:x,activeIndex:p.activeOptionIndex.value,activeOption:p.activeOptionIndex.value===null?null:p.virtual.value?p.virtual.value.options[(u=p.activeOptionIndex.value)!=null?u:0]:(m=(f=p.options.value[p.activeOptionIndex.value])==null?void 0:f.dataRef.value)!=null?m:null,value:_.value};return Ie(Oe,[...g!=null&&_.value!=null?ft({[g]:_.value}).map(([N,X])=>Ie(Bt,Lt({features:zt.Hidden,key:N,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:R,name:N,value:X}))):[],Ee({theirProps:{...t,...ze(z,["by","defaultValue","immediate","modelValue","multiple","nullable","onUpdate:modelValue","virtual"])},ourProps:{},slot:Q,slots:s,attrs:t,name:"Combobox"})])}}}),Bn=ne({name:"ComboboxInput",props:{as:{type:[Object,String],default:"input"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},displayValue:{type:Function},defaultValue:{type:String,default:void 0},id:{type:String,default:null}},emits:{change:e=>!0},setup(e,{emit:s,attrs:t,slots:i,expose:n}){var a;let l=(a=e.id)!=null?a:`headlessui-combobox-input-${Ne()}`,o=be("ComboboxInput"),c=w(()=>tt(L(o.inputRef))),d={value:!1};n({el:o.inputRef,$el:o.inputRef});function r(){o.change(null);let y=L(o.optionsRef);y&&(y.scrollTop=0),o.goToOption(D.Nothing)}let h=w(()=>{var y;let $=o.value.value;return L(o.inputRef)?typeof e.displayValue<"u"&&$!==void 0?(y=e.displayValue($))!=null?y:"":typeof $=="string"?$:"":""});me(()=>{J([h,o.comboboxState,c],([y,$],[T,S])=>{if(d.value)return;let p=L(o.inputRef);p&&((S===0&&$===1||y!==T)&&(p.value=y),requestAnimationFrame(()=>{var C;if(d.value||!p||((C=c.value)==null?void 0:C.activeElement)!==p)return;let{selectionStart:u,selectionEnd:f}=p;Math.abs((f??0)-(u??0))===0&&u===0&&p.setSelectionRange(p.value.length,p.value.length)}))},{immediate:!0}),J([o.comboboxState],([y],[$])=>{if(y===0&&$===1){if(d.value)return;let T=L(o.inputRef);if(!T)return;let S=T.value,{selectionStart:p,selectionEnd:C,selectionDirection:u}=T;T.value="",T.value=S,u!==null?T.setSelectionRange(p,C,u):T.setSelectionRange(p,C)}})});let v=B(!1);function b(){v.value=!0}function O(){We().nextFrame(()=>{v.value=!1})}function k(y){switch(d.value=!0,y.key){case Z.Enter:if(d.value=!1,o.comboboxState.value!==0||v.value)return;if(y.preventDefault(),y.stopPropagation(),o.activeOptionIndex.value===null){o.closeCombobox();return}o.selectActiveOption(),o.mode.value===0&&o.closeCombobox();break;case Z.ArrowDown:return d.value=!1,y.preventDefault(),y.stopPropagation(),de(o.comboboxState.value,{0:()=>o.goToOption(D.Next),1:()=>o.openCombobox()});case Z.ArrowUp:return d.value=!1,y.preventDefault(),y.stopPropagation(),de(o.comboboxState.value,{0:()=>o.goToOption(D.Previous),1:()=>{o.openCombobox(),it(()=>{o.value.value||o.goToOption(D.Last)})}});case Z.Home:if(y.shiftKey)break;return d.value=!1,y.preventDefault(),y.stopPropagation(),o.goToOption(D.First);case Z.PageUp:return d.value=!1,y.preventDefault(),y.stopPropagation(),o.goToOption(D.First);case Z.End:if(y.shiftKey)break;return d.value=!1,y.preventDefault(),y.stopPropagation(),o.goToOption(D.Last);case Z.PageDown:return d.value=!1,y.preventDefault(),y.stopPropagation(),o.goToOption(D.Last);case Z.Escape:if(d.value=!1,o.comboboxState.value!==0)return;y.preventDefault(),o.optionsRef.value&&!o.optionsPropsRef.value.static&&y.stopPropagation(),o.nullable.value&&o.mode.value===0&&o.value.value===null&&r(),o.closeCombobox();break;case Z.Tab:if(d.value=!1,o.comboboxState.value!==0)return;o.mode.value===0&&o.activationTrigger.value!==1&&o.selectActiveOption(),o.closeCombobox();break}}function A(y){s("change",y),o.nullable.value&&o.mode.value===0&&y.target.value===""&&r(),o.openCombobox()}function I(y){var $,T,S;let p=($=y.relatedTarget)!=null?$:qe.find(C=>C!==y.currentTarget);if(d.value=!1,!((T=L(o.optionsRef))!=null&&T.contains(p))&&!((S=L(o.buttonRef))!=null&&S.contains(p))&&o.comboboxState.value===0)return y.preventDefault(),o.mode.value===0&&(o.nullable.value&&o.value.value===null?r():o.activationTrigger.value!==1&&o.selectActiveOption()),o.closeCombobox()}function E(y){var $,T,S;let p=($=y.relatedTarget)!=null?$:qe.find(C=>C!==y.currentTarget);(T=L(o.buttonRef))!=null&&T.contains(p)||(S=L(o.optionsRef))!=null&&S.contains(p)||o.disabled.value||o.immediate.value&&o.comboboxState.value!==0&&(o.openCombobox(),We().nextFrame(()=>{o.setActivationTrigger(1)}))}let _=w(()=>{var y,$,T,S;return(S=(T=($=e.defaultValue)!=null?$:o.defaultValue.value!==void 0?(y=e.displayValue)==null?void 0:y.call(e,o.defaultValue.value):null)!=null?T:o.defaultValue.value)!=null?S:""});return()=>{var y,$,T,S,p,C,u;let f={open:o.comboboxState.value===0},{displayValue:m,onChange:g,...x}=e,R={"aria-controls":(y=o.optionsRef.value)==null?void 0:y.id,"aria-expanded":o.comboboxState.value===0,"aria-activedescendant":o.activeOptionIndex.value===null?void 0:o.virtual.value?($=o.options.value.find(z=>!o.virtual.value.disabled(z.dataRef.value)&&o.compare(z.dataRef.value,o.virtual.value.options[o.activeOptionIndex.value])))==null?void 0:$.id:(T=o.options.value[o.activeOptionIndex.value])==null?void 0:T.id,"aria-labelledby":(C=(S=L(o.labelRef))==null?void 0:S.id)!=null?C:(p=L(o.buttonRef))==null?void 0:p.id,"aria-autocomplete":"list",id:l,onCompositionstart:b,onCompositionend:O,onKeydown:k,onInput:A,onFocus:E,onBlur:I,role:"combobox",type:(u=t.type)!=null?u:"text",tabIndex:0,ref:o.inputRef,defaultValue:_.value,disabled:o.disabled.value===!0?!0:void 0};return Ee({ourProps:R,theirProps:x,slot:f,attrs:t,slots:i,features:we.RenderStrategy|we.Static,name:"ComboboxInput"})}}}),Ln=ne({name:"ComboboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},hold:{type:[Boolean],default:!1}},setup(e,{attrs:s,slots:t,expose:i}){let n=be("ComboboxOptions"),a=`headlessui-combobox-options-${Ne()}`;i({el:n.optionsRef,$el:n.optionsRef}),ve(()=>{n.optionsPropsRef.value.static=e.static}),ve(()=>{n.optionsPropsRef.value.hold=e.hold});let l=Nt(),o=w(()=>l!==null?(l.value&Se.Open)===Se.Open:n.comboboxState.value===0);return Cn({container:w(()=>L(n.optionsRef)),enabled:w(()=>n.comboboxState.value===0),accept(c){return c.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:c.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(c){c.setAttribute("role","none")}}),()=>{var c,d,r;let h={open:n.comboboxState.value===0},v={"aria-labelledby":(r=(c=L(n.labelRef))==null?void 0:c.id)!=null?r:(d=L(n.buttonRef))==null?void 0:d.id,id:a,ref:n.optionsRef,role:"listbox","aria-multiselectable":n.mode.value===1?!0:void 0},b=ze(e,["hold"]);return Ee({ourProps:v,theirProps:b,slot:h,attrs:s,slots:n.virtual.value&&n.comboboxState.value===0?{...t,default:()=>[Ie(_n,{},t.default)]}:t,features:we.RenderStrategy|we.Static,visible:o.value,name:"ComboboxOptions"})}}}),zn=ne({name:"ComboboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1},order:{type:[Number],default:null}},setup(e,{slots:s,attrs:t,expose:i}){let n=be("ComboboxOption"),a=`headlessui-combobox-option-${Ne()}`,l=B(null);i({el:l,$el:l});let o=w(()=>{var I;return n.virtual.value?n.activeOptionIndex.value===n.calculateIndex(e.value):n.activeOptionIndex.value===null?!1:((I=n.options.value[n.activeOptionIndex.value])==null?void 0:I.id)===a}),c=w(()=>n.isSelected(e.value)),d=st(gt,null),r=w(()=>({disabled:e.disabled,value:e.value,domRef:l,order:w(()=>e.order)}));me(()=>n.registerOption(a,r)),Vt(()=>n.unregisterOption(a,o.value)),ve(()=>{let I=L(l);I&&(d==null||d.value.measureElement(I))}),ve(()=>{n.comboboxState.value===0&&o.value&&(n.virtual.value||n.activationTrigger.value!==0&&it(()=>{var I,E;return(E=(I=L(l))==null?void 0:I.scrollIntoView)==null?void 0:E.call(I,{block:"nearest"})}))});function h(I){var E;if(e.disabled||(E=n.virtual.value)!=null&&E.disabled(e.value))return I.preventDefault();n.selectOption(a),Kt()||requestAnimationFrame(()=>{var _;return(_=L(n.inputRef))==null?void 0:_.focus({preventScroll:!0})}),n.mode.value===0&&requestAnimationFrame(()=>n.closeCombobox())}function v(){var I;if(e.disabled||(I=n.virtual.value)!=null&&I.disabled(e.value))return n.goToOption(D.Nothing);let E=n.calculateIndex(e.value);n.goToOption(D.Specific,E)}let b=kn();function O(I){b.update(I)}function k(I){var E;if(!b.wasMoved(I)||e.disabled||(E=n.virtual.value)!=null&&E.disabled(e.value)||o.value)return;let _=n.calculateIndex(e.value);n.goToOption(D.Specific,_,0)}function A(I){var E;b.wasMoved(I)&&(e.disabled||(E=n.virtual.value)!=null&&E.disabled(e.value)||o.value&&(n.optionsPropsRef.value.hold||n.goToOption(D.Nothing)))}return()=>{let{disabled:I}=e,E={active:o.value,selected:c.value,disabled:I},_={id:a,ref:l,role:"option",tabIndex:I===!0?void 0:-1,"aria-disabled":I===!0?!0:void 0,"aria-selected":c.value,disabled:void 0,onClick:h,onFocus:v,onPointerenter:O,onMouseenter:O,onPointermove:k,onMousemove:k,onPointerleave:A,onMouseleave:A},y=ze(e,["order","value"]);return Ee({ourProps:_,theirProps:y,slot:E,attrs:t,slots:s,name:"ComboboxOption"})}}});function te(e){return Array.isArray?Array.isArray(e):xt(e)==="[object Array]"}const Nn=1/0;function Dn(e){if(typeof e=="string")return e;let s=e+"";return s=="0"&&1/e==-Nn?"-0":s}function jn(e){return e==null?"":Dn(e)}function Y(e){return typeof e=="string"}function bt(e){return typeof e=="number"}function Vn(e){return e===!0||e===!1||Kn(e)&&xt(e)=="[object Boolean]"}function yt(e){return typeof e=="object"}function Kn(e){return yt(e)&&e!==null}function K(e){return e!=null}function $e(e){return!e.trim().length}function xt(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const Un="Incorrect 'index' type",Hn=e=>`Invalid value for key ${e}`,Wn=e=>`Pattern length exceeds max of ${e}.`,qn=e=>`Missing ${e} property in key`,Gn=e=>`Property 'weight' in key '${e}' must be a positive integer`,Je=Object.prototype.hasOwnProperty;class Yn{constructor(s){this._keys=[],this._keyMap={};let t=0;s.forEach(i=>{let n=St(i);t+=n.weight,this._keys.push(n),this._keyMap[n.id]=n,t+=n.weight}),this._keys.forEach(i=>{i.weight/=t})}get(s){return this._keyMap[s]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function St(e){let s=null,t=null,i=null,n=1,a=null;if(Y(e)||te(e))i=e,s=Qe(e),t=Ae(e);else{if(!Je.call(e,"name"))throw new Error(qn("name"));const l=e.name;if(i=l,Je.call(e,"weight")&&(n=e.weight,n<=0))throw new Error(Gn(l));s=Qe(l),t=Ae(l),a=e.getFn}return{path:s,id:t,weight:n,src:i,getFn:a}}function Qe(e){return te(e)?e:e.split(".")}function Ae(e){return te(e)?e.join("."):e}function Jn(e,s){let t=[],i=!1;const n=(a,l,o)=>{if(K(a))if(!l[o])t.push(a);else{let c=l[o];const d=a[c];if(!K(d))return;if(o===l.length-1&&(Y(d)||bt(d)||Vn(d)))t.push(jn(d));else if(te(d)){i=!0;for(let r=0,h=d.length;r<h;r+=1)n(d[r],l,o+1)}else l.length&&n(d,l,o+1)}};return n(e,Y(s)?s.split("."):s,0),i?t:t[0]}const Qn={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},Xn={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,s)=>e.score===s.score?e.idx<s.idx?-1:1:e.score<s.score?-1:1},Zn={location:0,threshold:.6,distance:100},es={useExtendedSearch:!1,getFn:Jn,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var M={...Xn,...Qn,...Zn,...es};const ts=/[^ ]+/g;function ns(e=1,s=3){const t=new Map,i=Math.pow(10,s);return{get(n){const a=n.match(ts).length;if(t.has(a))return t.get(a);const l=1/Math.pow(a,.5*e),o=parseFloat(Math.round(l*i)/i);return t.set(a,o),o},clear(){t.clear()}}}class Ue{constructor({getFn:s=M.getFn,fieldNormWeight:t=M.fieldNormWeight}={}){this.norm=ns(t,3),this.getFn=s,this.isCreated=!1,this.setIndexRecords()}setSources(s=[]){this.docs=s}setIndexRecords(s=[]){this.records=s}setKeys(s=[]){this.keys=s,this._keysMap={},s.forEach((t,i)=>{this._keysMap[t.id]=i})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,Y(this.docs[0])?this.docs.forEach((s,t)=>{this._addString(s,t)}):this.docs.forEach((s,t)=>{this._addObject(s,t)}),this.norm.clear())}add(s){const t=this.size();Y(s)?this._addString(s,t):this._addObject(s,t)}removeAt(s){this.records.splice(s,1);for(let t=s,i=this.size();t<i;t+=1)this.records[t].i-=1}getValueForItemAtKeyId(s,t){return s[this._keysMap[t]]}size(){return this.records.length}_addString(s,t){if(!K(s)||$e(s))return;let i={v:s,i:t,n:this.norm.get(s)};this.records.push(i)}_addObject(s,t){let i={i:t,$:{}};this.keys.forEach((n,a)=>{let l=n.getFn?n.getFn(s):this.getFn(s,n.path);if(K(l)){if(te(l)){let o=[];const c=[{nestedArrIndex:-1,value:l}];for(;c.length;){const{nestedArrIndex:d,value:r}=c.pop();if(K(r))if(Y(r)&&!$e(r)){let h={v:r,i:d,n:this.norm.get(r)};o.push(h)}else te(r)&&r.forEach((h,v)=>{c.push({nestedArrIndex:v,value:h})})}i.$[a]=o}else if(Y(l)&&!$e(l)){let o={v:l,n:this.norm.get(l)};i.$[a]=o}}}),this.records.push(i)}toJSON(){return{keys:this.keys,records:this.records}}}function It(e,s,{getFn:t=M.getFn,fieldNormWeight:i=M.fieldNormWeight}={}){const n=new Ue({getFn:t,fieldNormWeight:i});return n.setKeys(e.map(St)),n.setSources(s),n.create(),n}function ss(e,{getFn:s=M.getFn,fieldNormWeight:t=M.fieldNormWeight}={}){const{keys:i,records:n}=e,a=new Ue({getFn:s,fieldNormWeight:t});return a.setKeys(i),a.setIndexRecords(n),a}function xe(e,{errors:s=0,currentLocation:t=0,expectedLocation:i=0,distance:n=M.distance,ignoreLocation:a=M.ignoreLocation}={}){const l=s/e.length;if(a)return l;const o=Math.abs(i-t);return n?l+o/n:o?1:l}function is(e=[],s=M.minMatchCharLength){let t=[],i=-1,n=-1,a=0;for(let l=e.length;a<l;a+=1){let o=e[a];o&&i===-1?i=a:!o&&i!==-1&&(n=a-1,n-i+1>=s&&t.push([i,n]),i=-1)}return e[a-1]&&a-i>=s&&t.push([i,a-1]),t}const ae=32;function os(e,s,t,{location:i=M.location,distance:n=M.distance,threshold:a=M.threshold,findAllMatches:l=M.findAllMatches,minMatchCharLength:o=M.minMatchCharLength,includeMatches:c=M.includeMatches,ignoreLocation:d=M.ignoreLocation}={}){if(s.length>ae)throw new Error(Wn(ae));const r=s.length,h=e.length,v=Math.max(0,Math.min(i,h));let b=a,O=v;const k=o>1||c,A=k?Array(h):[];let I;for(;(I=e.indexOf(s,O))>-1;){let S=xe(s,{currentLocation:I,expectedLocation:v,distance:n,ignoreLocation:d});if(b=Math.min(S,b),O=I+r,k){let p=0;for(;p<r;)A[I+p]=1,p+=1}}O=-1;let E=[],_=1,y=r+h;const $=1<<r-1;for(let S=0;S<r;S+=1){let p=0,C=y;for(;p<C;)xe(s,{errors:S,currentLocation:v+C,expectedLocation:v,distance:n,ignoreLocation:d})<=b?p=C:y=C,C=Math.floor((y-p)/2+p);y=C;let u=Math.max(1,v-C+1),f=l?h:Math.min(v+C,h)+r,m=Array(f+2);m[f+1]=(1<<S)-1;for(let x=f;x>=u;x-=1){let R=x-1,z=t[e.charAt(R)];if(k&&(A[R]=+!!z),m[x]=(m[x+1]<<1|1)&z,S&&(m[x]|=(E[x+1]|E[x])<<1|1|E[x+1]),m[x]&$&&(_=xe(s,{errors:S,currentLocation:R,expectedLocation:v,distance:n,ignoreLocation:d}),_<=b)){if(b=_,O=R,O<=v)break;u=Math.max(1,2*v-O)}}if(xe(s,{errors:S+1,currentLocation:v,expectedLocation:v,distance:n,ignoreLocation:d})>b)break;E=m}const T={isMatch:O>=0,score:Math.max(.001,_)};if(k){const S=is(A,o);S.length?c&&(T.indices=S):T.isMatch=!1}return T}function as(e){let s={};for(let t=0,i=e.length;t<i;t+=1){const n=e.charAt(t);s[n]=(s[n]||0)|1<<i-t-1}return s}class Ot{constructor(s,{location:t=M.location,threshold:i=M.threshold,distance:n=M.distance,includeMatches:a=M.includeMatches,findAllMatches:l=M.findAllMatches,minMatchCharLength:o=M.minMatchCharLength,isCaseSensitive:c=M.isCaseSensitive,ignoreLocation:d=M.ignoreLocation}={}){if(this.options={location:t,threshold:i,distance:n,includeMatches:a,findAllMatches:l,minMatchCharLength:o,isCaseSensitive:c,ignoreLocation:d},this.pattern=c?s:s.toLowerCase(),this.chunks=[],!this.pattern.length)return;const r=(v,b)=>{this.chunks.push({pattern:v,alphabet:as(v),startIndex:b})},h=this.pattern.length;if(h>ae){let v=0;const b=h%ae,O=h-b;for(;v<O;)r(this.pattern.substr(v,ae),v),v+=ae;if(b){const k=h-ae;r(this.pattern.substr(k),k)}}else r(this.pattern,0)}searchIn(s){const{isCaseSensitive:t,includeMatches:i}=this.options;if(t||(s=s.toLowerCase()),this.pattern===s){let O={isMatch:!0,score:0};return i&&(O.indices=[[0,s.length-1]]),O}const{location:n,distance:a,threshold:l,findAllMatches:o,minMatchCharLength:c,ignoreLocation:d}=this.options;let r=[],h=0,v=!1;this.chunks.forEach(({pattern:O,alphabet:k,startIndex:A})=>{const{isMatch:I,score:E,indices:_}=os(s,O,k,{location:n+A,distance:a,threshold:l,findAllMatches:o,minMatchCharLength:c,includeMatches:i,ignoreLocation:d});I&&(v=!0),h+=E,I&&_&&(r=[...r,..._])});let b={isMatch:v,score:v?h/this.chunks.length:1};return v&&i&&(b.indices=r),b}}class oe{constructor(s){this.pattern=s}static isMultiMatch(s){return Xe(s,this.multiRegex)}static isSingleMatch(s){return Xe(s,this.singleRegex)}search(){}}function Xe(e,s){const t=e.match(s);return t?t[1]:null}class ls extends oe{constructor(s){super(s)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(s){const t=s===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}class rs extends oe{constructor(s){super(s)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(s){const i=s.indexOf(this.pattern)===-1;return{isMatch:i,score:i?0:1,indices:[0,s.length-1]}}}class us extends oe{constructor(s){super(s)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(s){const t=s.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}class cs extends oe{constructor(s){super(s)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(s){const t=!s.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,s.length-1]}}}class ds extends oe{constructor(s){super(s)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(s){const t=s.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[s.length-this.pattern.length,s.length-1]}}}class hs extends oe{constructor(s){super(s)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(s){const t=!s.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,s.length-1]}}}class wt extends oe{constructor(s,{location:t=M.location,threshold:i=M.threshold,distance:n=M.distance,includeMatches:a=M.includeMatches,findAllMatches:l=M.findAllMatches,minMatchCharLength:o=M.minMatchCharLength,isCaseSensitive:c=M.isCaseSensitive,ignoreLocation:d=M.ignoreLocation}={}){super(s),this._bitapSearch=new Ot(s,{location:t,threshold:i,distance:n,includeMatches:a,findAllMatches:l,minMatchCharLength:o,isCaseSensitive:c,ignoreLocation:d})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(s){return this._bitapSearch.searchIn(s)}}class Mt extends oe{constructor(s){super(s)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(s){let t=0,i;const n=[],a=this.pattern.length;for(;(i=s.indexOf(this.pattern,t))>-1;)t=i+a,n.push([i,t-1]);const l=!!n.length;return{isMatch:l,score:l?0:1,indices:n}}}const Pe=[ls,Mt,us,cs,hs,ds,rs,wt],Ze=Pe.length,fs=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,ps="|";function vs(e,s={}){return e.split(ps).map(t=>{let i=t.trim().split(fs).filter(a=>a&&!!a.trim()),n=[];for(let a=0,l=i.length;a<l;a+=1){const o=i[a];let c=!1,d=-1;for(;!c&&++d<Ze;){const r=Pe[d];let h=r.isMultiMatch(o);h&&(n.push(new r(h,s)),c=!0)}if(!c)for(d=-1;++d<Ze;){const r=Pe[d];let h=r.isSingleMatch(o);if(h){n.push(new r(h,s));break}}}return n})}const ms=new Set([wt.type,Mt.type]);class gs{constructor(s,{isCaseSensitive:t=M.isCaseSensitive,includeMatches:i=M.includeMatches,minMatchCharLength:n=M.minMatchCharLength,ignoreLocation:a=M.ignoreLocation,findAllMatches:l=M.findAllMatches,location:o=M.location,threshold:c=M.threshold,distance:d=M.distance}={}){this.query=null,this.options={isCaseSensitive:t,includeMatches:i,minMatchCharLength:n,findAllMatches:l,ignoreLocation:a,location:o,threshold:c,distance:d},this.pattern=t?s:s.toLowerCase(),this.query=vs(this.pattern,this.options)}static condition(s,t){return t.useExtendedSearch}searchIn(s){const t=this.query;if(!t)return{isMatch:!1,score:1};const{includeMatches:i,isCaseSensitive:n}=this.options;s=n?s:s.toLowerCase();let a=0,l=[],o=0;for(let c=0,d=t.length;c<d;c+=1){const r=t[c];l.length=0,a=0;for(let h=0,v=r.length;h<v;h+=1){const b=r[h],{isMatch:O,indices:k,score:A}=b.search(s);if(O){if(a+=1,o+=A,i){const I=b.constructor.type;ms.has(I)?l=[...l,...k]:l.push(k)}}else{o=0,a=0,l.length=0;break}}if(a){let h={isMatch:!0,score:o/a};return i&&(h.indices=l),h}}return{isMatch:!1,score:1}}}const _e=[];function bs(...e){_e.push(...e)}function Fe(e,s){for(let t=0,i=_e.length;t<i;t+=1){let n=_e[t];if(n.condition(e,s))return new n(e,s)}return new Ot(e,s)}const Ce={AND:"$and",OR:"$or"},Be={PATH:"$path",PATTERN:"$val"},Le=e=>!!(e[Ce.AND]||e[Ce.OR]),ys=e=>!!e[Be.PATH],xs=e=>!te(e)&&yt(e)&&!Le(e),et=e=>({[Ce.AND]:Object.keys(e).map(s=>({[s]:e[s]}))});function kt(e,s,{auto:t=!0}={}){const i=n=>{let a=Object.keys(n);const l=ys(n);if(!l&&a.length>1&&!Le(n))return i(et(n));if(xs(n)){const c=l?n[Be.PATH]:a[0],d=l?n[Be.PATTERN]:n[c];if(!Y(d))throw new Error(Hn(c));const r={keyId:Ae(c),pattern:d};return t&&(r.searcher=Fe(d,s)),r}let o={children:[],operator:a[0]};return a.forEach(c=>{const d=n[c];te(d)&&d.forEach(r=>{o.children.push(i(r))})}),o};return Le(e)||(e=et(e)),i(e)}function Ss(e,{ignoreFieldNorm:s=M.ignoreFieldNorm}){e.forEach(t=>{let i=1;t.matches.forEach(({key:n,norm:a,score:l})=>{const o=n?n.weight:null;i*=Math.pow(l===0&&o?Number.EPSILON:l,(o||1)*(s?1:a))}),t.score=i})}function Is(e,s){const t=e.matches;s.matches=[],K(t)&&t.forEach(i=>{if(!K(i.indices)||!i.indices.length)return;const{indices:n,value:a}=i;let l={indices:n,value:a};i.key&&(l.key=i.key.src),i.idx>-1&&(l.refIndex=i.idx),s.matches.push(l)})}function Os(e,s){s.score=e.score}function ws(e,s,{includeMatches:t=M.includeMatches,includeScore:i=M.includeScore}={}){const n=[];return t&&n.push(Is),i&&n.push(Os),e.map(a=>{const{idx:l}=a,o={item:s[l],refIndex:l};return n.length&&n.forEach(c=>{c(a,o)}),o})}class he{constructor(s,t={},i){this.options={...M,...t},this.options.useExtendedSearch,this._keyStore=new Yn(this.options.keys),this.setCollection(s,i)}setCollection(s,t){if(this._docs=s,t&&!(t instanceof Ue))throw new Error(Un);this._myIndex=t||It(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(s){K(s)&&(this._docs.push(s),this._myIndex.add(s))}remove(s=()=>!1){const t=[];for(let i=0,n=this._docs.length;i<n;i+=1){const a=this._docs[i];s(a,i)&&(this.removeAt(i),i-=1,n-=1,t.push(a))}return t}removeAt(s){this._docs.splice(s,1),this._myIndex.removeAt(s)}getIndex(){return this._myIndex}search(s,{limit:t=-1}={}){const{includeMatches:i,includeScore:n,shouldSort:a,sortFn:l,ignoreFieldNorm:o}=this.options;let c=Y(s)?Y(this._docs[0])?this._searchStringList(s):this._searchObjectList(s):this._searchLogical(s);return Ss(c,{ignoreFieldNorm:o}),a&&c.sort(l),bt(t)&&t>-1&&(c=c.slice(0,t)),ws(c,this._docs,{includeMatches:i,includeScore:n})}_searchStringList(s){const t=Fe(s,this.options),{records:i}=this._myIndex,n=[];return i.forEach(({v:a,i:l,n:o})=>{if(!K(a))return;const{isMatch:c,score:d,indices:r}=t.searchIn(a);c&&n.push({item:a,idx:l,matches:[{score:d,value:a,norm:o,indices:r}]})}),n}_searchLogical(s){const t=kt(s,this.options),i=(o,c,d)=>{if(!o.children){const{keyId:h,searcher:v}=o,b=this._findMatches({key:this._keyStore.get(h),value:this._myIndex.getValueForItemAtKeyId(c,h),searcher:v});return b&&b.length?[{idx:d,item:c,matches:b}]:[]}const r=[];for(let h=0,v=o.children.length;h<v;h+=1){const b=o.children[h],O=i(b,c,d);if(O.length)r.push(...O);else if(o.operator===Ce.AND)return[]}return r},n=this._myIndex.records,a={},l=[];return n.forEach(({$:o,i:c})=>{if(K(o)){let d=i(t,o,c);d.length&&(a[c]||(a[c]={idx:c,item:o,matches:[]},l.push(a[c])),d.forEach(({matches:r})=>{a[c].matches.push(...r)}))}}),l}_searchObjectList(s){const t=Fe(s,this.options),{keys:i,records:n}=this._myIndex,a=[];return n.forEach(({$:l,i:o})=>{if(!K(l))return;let c=[];i.forEach((d,r)=>{c.push(...this._findMatches({key:d,value:l[r],searcher:t}))}),c.length&&a.push({idx:o,item:l,matches:c})}),a}_findMatches({key:s,value:t,searcher:i}){if(!K(t))return[];let n=[];if(te(t))t.forEach(({v:a,i:l,n:o})=>{if(!K(a))return;const{isMatch:c,score:d,indices:r}=i.searchIn(a);c&&n.push({score:d,key:s,value:a,idx:l,norm:o,indices:r})});else{const{v:a,n:l}=t,{isMatch:o,score:c,indices:d}=i.searchIn(a);o&&n.push({score:c,key:s,value:a,norm:l,indices:d})}return n}}he.version="6.6.2";he.createIndex=It;he.parseIndex=ss;he.config=M;he.parseQuery=kt;bs(gs);function Ms(e,s,t){const i=()=>{var l,o;return new he((l=G(s))!=null?l:[],(o=G(t))==null?void 0:o.fuseOptions)},n=B(i());J(()=>{var l;return(l=G(t))==null?void 0:l.fuseOptions},()=>{n.value=i()},{deep:!0}),J(()=>G(s),l=>{n.value.setCollection(l)},{deep:!0});const a=w(()=>{const l=G(t);if(l!=null&&l.matchAllWhenSearchEmpty&&!G(e))return G(s).map((c,d)=>({item:c,refIndex:d}));const o=l==null?void 0:l.resultLimit;return n.value.search(G(e),o?{limit:o}:void 0)});return{fuse:n,results:a}}const ks=ne({components:{HComboboxOption:zn,UIcon:Te,UAvatar:ot,UKbd:at},props:{group:{type:Object,required:!0},query:{type:String,default:""},groupAttribute:{type:String,required:!0},commandAttribute:{type:String,required:!0},selectedIcon:{type:String,required:!0},ui:{type:Object,required:!0}},setup(e){const s=w(()=>{const i=e.group[e.groupAttribute];return typeof i=="function"?i(e.query):i});function t(i,{indices:n,value:a}){if(i===a)return"";let l="",o=0;n.forEach(d=>{const r=d[1]+1,h=r-d[0]>=e.query.length;l+=[a.substring(o,d[0]),h&&"<mark>",a.substring(d[0],r),h&&"</mark>"].filter(Boolean).join(""),o=r}),l+=a.substring(o);const c=l.indexOf("<mark>");return c>60&&(l=`...${l.substring(c-60)}`),l}return je(()=>Ve("$C2sWKrv2dd")),{label:s,highlight:t}}}),Cs=["aria-label"],Es=["innerHTML"];function Ts(e,s,t,i,n,a){const l=Te,o=ot,c=at,d=ee("HComboboxOption");return F(),U("div",{class:P(e.ui.group.wrapper),role:"option"},[e.label?(F(),U("h2",{key:0,class:P(e.ui.group.label)},ie(e.label),3)):H("",!0),W("div",{class:P(e.ui.group.container),role:"listbox","aria-label":e.group[e.groupAttribute]},[(F(!0),U(Oe,null,Me(e.group.commands,(r,h)=>(F(),j(d,{key:`${e.group.key}-${h}`,value:r,disabled:r.disabled,as:"template"},{default:q(({active:v,selected:b})=>[W("div",{class:P([e.ui.group.command.base,v?e.ui.group.command.active:e.ui.group.command.inactive,r.disabled?"cursor-not-allowed":"cursor-pointer"])},[W("div",{class:P(e.ui.group.command.container)},[le(e.$slots,`${e.group.key}-icon`,{group:e.group,command:r,active:v,selected:b},()=>[r.icon?(F(),j(l,{key:0,name:r.icon,class:P([e.ui.group.command.icon.base,v?e.ui.group.command.icon.active:e.ui.group.command.icon.inactive,r.iconClass]),"aria-hidden":"true"},null,8,["name","class"])):r.avatar?(F(),j(o,re({key:1},{size:e.ui.group.command.avatar.size,...r.avatar},{class:e.ui.group.command.avatar.base,"aria-hidden":"true"}),null,16,["class"])):r.chip?(F(),U("span",{key:2,class:P(e.ui.group.command.chip.base),style:Ut({background:`#${r.chip}`})},null,6)):H("",!0)]),W("div",{class:P([e.ui.group.command.label,r.disabled&&e.ui.group.command.disabled])},[le(e.$slots,`${e.group.key}-command`,{group:e.group,command:r,active:v,selected:b},()=>{var O,k;return[r.prefix?(F(),U("span",{key:0,class:P(["flex-shrink-0",r.prefixClass||e.ui.group.command.prefix])},ie(r.prefix),3)):H("",!0),W("span",{class:P(["truncate",{"flex-none":r.suffix||((O=r.matches)==null?void 0:O.length)}])},ie(r[e.commandAttribute]),3),(k=r.matches)!=null&&k.length?(F(),U("span",{key:1,class:P(["truncate",r.suffixClass||e.ui.group.command.suffix]),innerHTML:e.highlight(r[e.commandAttribute],r.matches[0])},null,10,Es)):r.suffix?(F(),U("span",{key:2,class:P(["truncate",r.suffixClass||e.ui.group.command.suffix])},ie(r.suffix),3)):H("",!0)]})],2)],2),b?(F(),j(l,{key:0,name:e.selectedIcon,class:P(e.ui.group.command.selectedIcon.base),"aria-hidden":"true"},null,8,["name","class"])):v&&(e.group.active||e.$slots[`${e.group.key}-active`])?le(e.$slots,`${e.group.key}-active`,{key:1,group:e.group,command:r,active:v,selected:b},()=>[e.group.active?(F(),U("span",{key:0,class:P(e.ui.group.active)},ie(e.group.active),3)):H("",!0)]):le(e.$slots,`${e.group.key}-inactive`,{key:2,group:e.group,command:r,active:v,selected:b},()=>{var O;return[(O=r.shortcuts)!=null&&O.length?(F(),U("span",{key:0,class:P(e.ui.group.command.shortcuts)},[(F(!0),U(Oe,null,Me(r.shortcuts,k=>(F(),j(c,{key:k},{default:q(()=>[Ht(ie(k),1)]),_:2},1024))),128))],2)):!r.disabled&&e.group.inactive?(F(),U("span",{key:1,class:P(e.ui.group.inactive)},ie(e.group.inactive),3)):H("",!0)]})],2)]),_:2},1032,["value","disabled"]))),128))],10,Cs)],2)}const Rs=De(ks,[["render",Ts]]),ce=lt(ke.ui.strategy,ke.ui.commandPalette,hn),$s=ne({components:{HCombobox:Fn,HComboboxInput:Bn,HComboboxOptions:Ln,UIcon:Te,UButton:rt,CommandPaletteGroup:Rs},inheritAttrs:!1,props:{modelValue:{type:[String,Number,Object,Array],default:null},by:{type:String,default:"id"},multiple:{type:Boolean,default:!1},nullable:{type:Boolean,default:!1},searchable:{type:Boolean,default:!0},loading:{type:Boolean,default:!1},groups:{type:Array,default:()=>[]},icon:{type:String,default:()=>ce.default.icon},loadingIcon:{type:String,default:()=>ce.default.loadingIcon},selectedIcon:{type:String,default:()=>ce.default.selectedIcon},closeButton:{type:Object,default:()=>ce.default.closeButton},emptyState:{type:Object,default:()=>ce.default.emptyState},placeholder:{type:String,default:"Search..."},groupAttribute:{type:String,default:"label"},commandAttribute:{type:String,default:"label"},autoselect:{type:Boolean,default:!0},autoclear:{type:Boolean,default:!0},debounce:{type:Number,default:200},fuse:{type:Object,default:()=>({})},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue","close"],setup(e,{emit:s,expose:t}){const{ui:i,attrs:n}=Ke("commandPalette",ge(e,"ui"),ce,ge(e,"class")),a=B(""),l=B(),o=B(null),c=B(!1);me(()=>{e.autoselect&&y()}),me(()=>{setTimeout(()=>{var C;const S=(C=l.value)==null?void 0:C.$.provides;if(!S)return;const p=Object.getOwnPropertySymbols(S);o.value=p.length&&S[p[0]]},200)});const d=w(()=>ut({},e.fuse,{fuseOptions:{keys:[e.commandAttribute]},resultLimit:12,matchAllWhenSearchEmpty:!0})),r=w(()=>{var p;const S=[];for(const C of e.groups)C.search||S.push(...((p=C.commands)==null?void 0:p.map(u=>({...u,group:C.key})))||[]);return S}),h=B({}),{results:v}=Ms(a,r,d);function b(S,p){if(S)return S.filter&&typeof S.filter=="function"&&(p=S.filter(a.value,p)),{...S,commands:p.slice(0,d.value.resultLimit)}}const O=w(()=>{if(!v.value)return[];const S=v.value.reduce((u,f)=>{var x;const{item:m,...g}=f;return m.group&&(u[x=m.group]||(u[x]=[]),u[m.group].push({...m,...g})),u},{}),p=Object.entries(S).map(([u,f])=>{const m=e.groups.find(g=>g.key===u);return m?b(m,f):null}).filter(Boolean),C=e.groups.filter(u=>{var f;return!!u.search&&((f=h.value[u.key])==null?void 0:f.length)}).map(u=>{const f=h.value[u.key]||[];return b(u,[...f])});return[...p,...C]}),k=ct(async()=>{const S=e.groups.filter(p=>!!p.search);S.length&&(c.value=!0,await Promise.all(S.map(async p=>{h.value[p.key]=await p.search(a.value)})),c.value=!1,_())},e.debounce);J(a,()=>{k(),_()});const A=w(()=>(e.loading||c.value)&&e.loadingIcon?e.loadingIcon:e.icon),I=w(()=>Wt(i.value.input.icon.base,i.value.input.icon.size,(e.loading||c.value)&&e.loadingIcon&&i.value.input.icon.loading)),E=w(()=>({...i.value.default.emptyState,...e.emptyState}));function _(){setTimeout(()=>{var S;(S=l.value)==null||S.$el.dispatchEvent(new KeyboardEvent("keydown",{key:"PageUp"}))},0)}function y(){setTimeout(()=>{var S;(S=l.value)==null||S.$el.dispatchEvent(new KeyboardEvent("keydown",{key:"ArrowDown"}))},0)}function $(S){s("update:modelValue",S,{query:a.value}),e.autoclear&&setTimeout(()=>{a.value=""},0)}function T(){a.value?a.value="":s("close")}return t({query:a,updateQuery:S=>{a.value=S},comboboxApi:o,results:v}),je(()=>Ve("$cGHAC6sdjy")),{ui:i,attrs:n,groups:O,comboboxInput:l,query:a,iconName:A,iconClass:I,emptyState:E,onSelect:$,onClear:T}}});function As(e,s,t,i,n,a){const l=Te,o=ee("HComboboxInput"),c=rt,d=ee("CommandPaletteGroup"),r=ee("HComboboxOptions"),h=ee("HCombobox");return F(),j(h,re({by:e.by,"model-value":e.modelValue,multiple:e.multiple,nullable:e.nullable,class:e.ui.wrapper},e.attrs,{as:"div","onUpdate:modelValue":e.onSelect}),{default:q(()=>[qt(W("div",{class:P(e.ui.input.wrapper)},[e.iconName?(F(),j(l,{key:0,name:e.iconName,class:P(e.iconClass),"aria-hidden":"true"},null,8,["name","class"])):H("",!0),pe(o,{ref:"comboboxInput",value:e.query,class:P([e.ui.input.base,e.ui.input.size,e.ui.input.height,e.ui.input.padding,e.icon&&e.ui.input.icon.padding,e.closeButton&&e.ui.input.closeButton.padding]),placeholder:e.placeholder,"aria-label":e.placeholder,autocomplete:"off",onChange:s[0]||(s[0]=v=>e.query=v.target.value)},null,8,["value","class","placeholder","aria-label"]),e.closeButton?(F(),j(c,re({key:1,"aria-label":"Close"},{...e.ui.default.closeButton||{},...e.closeButton},{class:e.ui.input.closeButton.base,onClick:e.onClear}),null,16,["class","onClick"])):H("",!0)],2),[[Gt,e.searchable]]),e.groups.length?(F(),j(r,{key:0,static:"",hold:"",as:"div","aria-label":"Commands",class:P(e.ui.container)},{default:q(()=>[(F(!0),U(Oe,null,Me(e.groups,v=>(F(),j(d,{key:v.key,query:e.query,group:v,"group-attribute":e.groupAttribute,"command-attribute":e.commandAttribute,"selected-icon":e.selectedIcon,ui:e.ui},Yt({_:2},[Me(e.$slots,(b,O)=>({name:O,fn:q(k=>[le(e.$slots,O,Jt(Qt(k)))])}))]),1032,["query","group","group-attribute","command-attribute","selected-icon","ui"]))),128))]),_:3},8,["class"])):e.emptyState?le(e.$slots,"empty-state",{key:1},()=>[W("div",{class:P(e.ui.emptyState.wrapper)},[e.emptyState.icon?(F(),j(l,{key:0,name:e.emptyState.icon,class:P(e.ui.emptyState.icon),"aria-hidden":"true"},null,8,["name","class"])):H("",!0),W("p",{class:P(e.query?e.ui.emptyState.queryLabel:e.ui.emptyState.label)},ie(e.query?e.emptyState.queryLabel:e.emptyState.label),3)],2)]):H("",!0)]),_:3},16,["by","model-value","multiple","nullable","class","onUpdate:modelValue"])}const Ps=De($s,[["render",As]]),_s=lt(ke.ui.strategy,ke.ui.modal,fn),Fs=ne({components:{HDialog:Xt,HDialogPanel:Zt,TransitionRoot:en,TransitionChild:tn},inheritAttrs:!1,props:{modelValue:{type:Boolean,default:!1},appear:{type:Boolean,default:!1},overlay:{type:Boolean,default:!0},transition:{type:Boolean,default:!0},preventClose:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue","close","close-prevented"],setup(e,{emit:s}){const{ui:t,attrs:i}=Ke("modal",ge(e,"ui"),_s,ge(e,"class")),n=w({get(){return e.modelValue},set(o){s("update:modelValue",o)}}),a=w(()=>e.transition?{...t.value.transition}:{});function l(o){if(e.preventClose){s("close-prevented");return}n.value=o,s("close")}return je(()=>Ve("$VIdjiyrk7c")),{ui:t,attrs:i,isOpen:n,transitionClass:a,close:l}}});function Bs(e,s,t,i,n,a){const l=ee("TransitionChild"),o=ee("HDialogPanel"),c=ee("HDialog"),d=ee("TransitionRoot");return F(),j(d,{appear:e.appear,show:e.isOpen,as:"template"},{default:q(()=>[pe(c,re({class:e.ui.wrapper},e.attrs,{onClose:e.close}),{default:q(()=>[e.overlay?(F(),j(l,re({key:0,as:"template",appear:e.appear},e.ui.overlay.transition),{default:q(()=>[W("div",{class:P([e.ui.overlay.base,e.ui.overlay.background])},null,2)]),_:1},16,["appear"])):H("",!0),W("div",{class:P(e.ui.inner)},[W("div",{class:P([e.ui.container,!e.fullscreen&&e.ui.padding])},[pe(l,re({as:"template",appear:e.appear},e.transitionClass),{default:q(()=>[pe(o,{class:P([e.ui.base,e.ui.background,e.ui.ring,e.ui.shadow,e.fullscreen?e.ui.fullscreen:[e.ui.width,e.ui.height,e.ui.rounded,e.ui.margin]])},{default:q(()=>[le(e.$slots,"default")]),_:3},8,["class"])]),_:3},16,["appear"])],2)],2)]),_:3},16,["class","onClose"])]),_:3},8,["appear","show"])}const Ls=De(Fs,[["render",Bs]]),Ct=e=>{if(!e.children)return e._path;for(const s of(e==null?void 0:e.children)||[]){const t=Ct(s);if(t)return t}},Et=(e,s)=>{for(const t of s){if(t._path===e&&!t._id)return t.children;if(t.children){const i=Et(e,t.children);if(i)return i}}},Tt=(e,s)=>{for(const t of s){if(t._path===e)return t;if(t.children){const i=Tt(e,t.children);if(i)return i}}},zs=(e,s,t)=>{let i;const n=(a,l)=>{for(const o of l)if(!(a!=="/"&&o._path==="/")){if(a!=null&&a.startsWith(o._path)&&o[s]&&(i=o[s]),o._path===a)return;o.children&&n(a,o.children)}};return n(e,t),i},Ns=()=>({navBottomLink:Ct,navDirFromPath:Et,navPageFromPath:Tt,navKeyFromPath:zs});function Ds(...e){return w(()=>e.every(s=>G(s)))}function js(e){return w(()=>!G(e))}const Vs=/^[^-]+.*-.*[^-]+$/,Ks=/^[^_]+.*_.*[^_]+$/,Us=(e,s={})=>{const{macOS:t,usingInput:i}=dt();let n=[];const a=B([]),l=()=>{a.value.splice(0,a.value.length)},o=ct(l,s.chainDelay??800),c=d=>{if(!d.key)return;const r=/^[a-z]{1}$/i.test(d.key);let h;if(a.value.push(d.key),a.value.length>=2){h=a.value.slice(-2).join("-");for(const v of n.filter(b=>b.chained))if(v.key===h){v.condition.value&&(d.preventDefault(),v.handler()),l();return}}for(const v of n.filter(b=>!b.chained))if(d.key.toLowerCase()===v.key&&d.metaKey===v.metaKey&&d.ctrlKey===v.ctrlKey&&!(r&&d.shiftKey!==v.shiftKey)){v.condition.value&&(d.preventDefault(),v.handler()),l();return}o()};n=Object.entries(e).map(([d,r])=>{var O,k;if(!r)return null;let h;d.includes("-")&&d!=="-"&&!((O=d.match(Vs))!=null&&O.length)&&console.trace(`[Shortcut] Invalid key: "${d}"`),d.includes("_")&&d!=="_"&&!((k=d.match(Ks))!=null&&k.length)&&console.trace(`[Shortcut] Invalid key: "${d}"`);const v=d.includes("-")&&d!=="-";if(v)h={key:d.toLowerCase(),metaKey:!1,ctrlKey:!1,shiftKey:!1,altKey:!1};else{const A=d.toLowerCase().split("_").map(I=>I);h={key:A.filter(I=>!["meta","ctrl","shift","alt"].includes(I)).join("_"),metaKey:A.includes("meta"),ctrlKey:A.includes("ctrl"),shiftKey:A.includes("shift"),altKey:A.includes("alt")}}if(h.chained=v,!t.value&&h.metaKey&&!h.ctrlKey&&(h.metaKey=!1,h.ctrlKey=!0),typeof r=="function"?h.handler=r:typeof r=="object"&&(h={...h,handler:r.handler}),!h.handler)return console.trace("[Shortcut] Invalid value"),null;const b=[];return r.usingInput?typeof r.usingInput=="string"&&b.push(w(()=>i.value===r.usingInput)):b.push(js(i)),h.condition=Ds(...b,...r.whenever||[]),h}).filter(Boolean),nn("keydown",c)},Ws=ne({__name:"ContentSearch",props:{files:{type:Array,default:()=>[]},navigation:{type:Array,default:()=>[]},links:{type:Array,default:()=>[]},groups:{type:Array,default:()=>[]},fuse:{type:Object,default:()=>({})},hideColorMode:{type:Boolean,default:!1},ui:{type:Object,default:()=>({})}},setup(e,{expose:s}){const t=sn(),i=w(()=>({padding:"p-0 sm:p-4",rounded:"rounded-none sm:rounded-lg",width:"sm:max-w-3xl",height:"h-dvh sm:h-[28rem]",commandPalette:{input:{height:"h-[--header-height] sm:h-12",icon:{size:"h-5 w-5",padding:"ps-11"}},group:{command:{prefix:"!text-foreground after:content-['_>']"}},container:"scroll-py-10"},fileIcon:{name:"i-heroicons-document-text"},default:{closeButton:{icon:t.ui.icons.close,color:"gray",variant:"ghost",size:"sm"}}})),n=e,a=on(),{navKeyFromPath:l}=Ns(),{usingInput:o}=dt(),{isContentSearchModalOpen:c}=an(),d=ln(dn),r=rn(),{ui:h,attrs:v}=Ke("docs.search",ge(n,"ui"),i,void 0,!0),b=d.smaller("sm"),O=B();function k(u){var f;return u.icon?u.icon:(f=u.navigation)!=null&&f.icon?u.navigation.icon:(n.navigation&&(u.icon=l(u._path,"icon",n.navigation)),u.icon||h.value.fileIcon.name)}const A=w(()=>ut({},n.fuse,{fuseOptions:{ignoreLocation:!0,includeMatches:!0,threshold:.1,keys:[{name:"title",weight:5},{name:"label",weight:5},{name:"suffix",weight:3},"children.children.value","children.children.children.value","children.children.children.children.value","children.children.children.children.children.value"]},resultLimit:12}));function I(u,f){return u?f:f==null?void 0:f.filter(m=>!m.child)}const E=w(()=>{var f,m;let u=[];return(f=n.navigation)!=null&&f.length&&(n.navigation.some(g=>{var x;return!!((x=g.children)!=null&&x.length)})?u=(n.navigation||[]).map(g=>({key:g._path,label:g.title,commands:(n.files||[]).filter(x=>{var R;return(R=x._path)==null?void 0:R.startsWith(g._path)}).flatMap(x=>y(x,g)),filter:I})):u=[{key:"docs",commands:(n.files||[]).flatMap(g=>y(g)),filter:I}]),[((m=n.links)==null?void 0:m.length)&&{key:"links",label:"Links",commands:n.links.flatMap(g=>[g.to&&{id:a.resolve(g.to).fullPath,...g,icon:g.icon||h.value.fileIcon.name},...(g.children||[]).map(x=>({id:a.resolve(x.to).fullPath,prefix:g.label,suffix:x.description,...x,icon:x.icon||g.icon||h.value.fileIcon.name}))]).filter(Boolean)},...u,...n.groups||[],!(r!=null&&r.forced)&&!n.hideColorMode&&{key:"theme",label:"Theme",commands:[{id:"theme-light",label:"Light",icon:t.ui.icons.light,disabled:r.preference==="light",click:()=>{r.preference="light"}},{id:"theme-dark",label:"Dark",icon:t.ui.icons.dark,disabled:r.preference==="dark",click:()=>{r.preference="dark"}}]}].filter(Boolean)}),_=w(()=>c.value||!o.value);function y(u,f){var g,x,R,z,Q;const m=(g=un((f==null?void 0:f.children)||[],u))==null?void 0:g.map(({title:N})=>N).join(" > ");return[{id:u._id,label:((x=u.navigation)==null?void 0:x.title)||u.title,title:((R=u.navigation)==null?void 0:R.title)||u.title,prefix:m,to:u._path,suffix:u.description,children:T(S(((z=u==null?void 0:u.body)==null?void 0:z.children)||[])),icon:k(u)},...Object.entries(p(((Q=u==null?void 0:u.body)==null?void 0:Q.children)||[])).map(([N,{title:X,children:ye}])=>{var fe;if(X)return{id:`${u._path}${N}`,label:X,prefix:(m?`${m} > `:"")+`${((fe=u.navigation)==null?void 0:fe.title)||u.title}`,to:`${u._path}${N}`,children:T(ye),icon:k(u),child:!0}})].filter(Boolean)}function $(u){return(u==null?void 0:u.map(f=>{var m,g;if(["code","code-inline","em","a","strong"].includes(f.tag))return{type:"text",value:((g=(m=f.children)==null?void 0:m.find(x=>x.type==="text"))==null?void 0:g.value)||""};if(f.type==="text")return f}).filter(Boolean))||[]}function T(u){return u.map(f=>{if(["pre","style","video"].includes(f.tag))return;let m=[...f.children||[]];return["p","h1","h2","h3","h4","h5","h6","li","td","th"].includes(f.tag)&&m.length?(m=$(m).reduce((g,x)=>(g.length&&g[g.length-1].type==="text"?g[g.length-1].value+=x.value||"":g.push({...x}),g),[]),{...f,children:m}):{...f,children:T(m)}}).filter(Boolean)}function S(u){const f=[];for(const m of u){if(["h1","h2","h3"].includes(m.tag))break;f.push(m)}return f}function p(u){var x,R,z,Q;const f={};let m="",g="";for(const N of u)["h1","h2","h3"].includes(N.tag)&&(g=((z=(R=(x=N.children)==null?void 0:x.map(X=>{var ye,fe;if(X.type==="text")return X.value;if(["code","code-inline","em","a","strong"].includes(X.tag))return(fe=(ye=X.children)==null?void 0:ye.find(Rt=>Rt.type==="text"))==null?void 0:fe.value}))==null?void 0:R.filter(Boolean))==null?void 0:z.join(" "))||"",g&&((Q=N.props)!=null&&Q.id)&&(m=`#${encodeURIComponent(N.props.id)}`)),f[m]?f[m].children.push(N):f[m]={children:[N],title:g};return f}function C(u){c.value=!1,u&&(u.click?u.click():u.to?u.target==="_blank"||u.to.startsWith("http")?window.open(u.to,u.target||"_blank"):a.push(u.to):u.href&&window.open(u.href,"_blank"))}return Us({meta_k:{usingInput:!0,whenever:[_],handler:()=>{c.value=!c.value}},escape:{usingInput:!0,whenever:[c],handler:()=>{c.value=!1}}}),s({commandPaletteRef:O}),(u,f)=>{const m=Ps,g=Ls;return F(),j(g,re({modelValue:V(c),"onUpdate:modelValue":f[1]||(f[1]=x=>cn(c)?c.value=x:null),overlay:!V(b),transition:!V(b),ui:V(h)},V(v)),{default:q(()=>[pe(m,{ref_key:"commandPaletteRef",ref:O,groups:V(E),ui:V(h).commandPalette,"close-button":V(h).default.closeButton,fuse:V(A),nullable:"","onUpdate:modelValue":C,onClose:f[0]||(f[0]=x=>c.value=!1)},null,8,["groups","ui","close-button","fuse"])]),_:1},16,["modelValue","overlay","transition","ui"])}}});export{Ws as default};
